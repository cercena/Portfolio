(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{311:function(t,e,o){"use strict";var n={props:{title:{type:String,default:""}},data:function(){return{}},mounted:function(){},methods:{}},r=o(4),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"uk-flex-1"},[o("h1",{staticClass:"uk-text-center uk-flex-1",staticStyle:{"font-size":"30px","padding-top":"20px","font-weight":"400",color:"#37474f"}},[t._v("\n\t\t"+t._s(t.title)+"\n\t")])])}),[],!1,null,null,null);e.a=component.exports},701:function(t,e,o){"use strict";var n=o(15),r=o(702),c="includes";n(n.P+n.F*o(703)(c),"String",{includes:function(t){return!!~r(this,t,c).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},702:function(t,e,o){var n=o(125),r=o(44);t.exports=function(t,e,o){if(n(e))throw TypeError("String#"+o+" doesn't accept regex!");return String(r(t))}},703:function(t,e,o){var n=o(10)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(o){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},704:function(t,e,o){"use strict";var n=o(15),r=o(185)(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(184)("includes")},744:function(t,e,o){"use strict";o.r(e);o(183),o(701),o(704),o(116);var n=o(311),r=o(39),c=o(59),l=o(119),d=o(356),f={middleware:"authenticated",components:{Title:n.a},directives:{facade:d.facade},data:function(){return{person:{uuid:"",name:"",country:"",state:"",city:"",birthUnformatted:"",birth:"",birthYear:0,birthDate:"",director:!1,actor:!1,writer:!1,producer:!1,self:!1,imageLink:"",bio:""},jobTypesSelected:[],uuidPerson:"",okPrincipal:!1,okSecundary:!1,okProduction:!1,dialogConfirmSave:!1,enableSave:!0,loggedUserObject:{},notification:{title:"",description:""},jobTypess:[{value:"DIRECTOR",text:"Diretor(a)"},{value:"WRITER",text:"Escritor(a)"},{value:"PRODUCER",text:"Produtor(a)"},{value:"SELF",text:"Próprio"},{value:"ACTOR",text:"Ator/Atriz"}]}},mounted:function(){console.log(this.$route.params.uuid),this.uuidPerson=this.$route.params.uuid,this.findPersonByUuid(this.uuidPerson),this.loggedUser()},methods:{findPersonByUuid:function(t){var e=this;t&&l.a.findById(t).then((function(t){e.person=t.data,e.person&&(e.person.birthUnformatted=new Date(t.data.birth).toLocaleString().slice(0,10),e.person.director&&e.jobTypesSelected.push("DIRECTOR"),e.person.actor&&e.jobTypesSelected.push("ACTOR"),e.person.producer&&e.jobTypesSelected.push("PRODUCER"),e.person.writer&&e.jobTypesSelected.push("WRITER"),e.person.self&&e.jobTypesSelected.push("SELF"))})).catch((function(t){var o="Houve um erro inesperado.";t.response&&400===t.response.status&&(o=t.response.data.message),e.showNotification(o,"bottom-right","danger")}))},save:function(t){var e=this;this.validationToSave(t)&&(t.birth=this.formatDate(t.birthUnformatted),t.birthYear=parseInt(t.birth.slice(0,4),10),this.jobTypesSelected.join(","),t.director=!!this.jobTypesSelected.includes("DIRECTOR"),t.actor=!!this.jobTypesSelected.includes("ACTOR"),t.producer=!!this.jobTypesSelected.includes("PRODUCER"),t.writer=!!this.jobTypesSelected.includes("WRITER"),t.self=!!this.jobTypesSelected.includes("SELF"),l.a.save(t).then((function(t){e.notification.title="Sucesso ao salvar artista!",e.showNotification(e.notification.title,"bottom-right","success"),e.$router.push("/person/all")})).catch((function(t){var o="Houve um erro inesperado.";t.response&&400===t.response.status&&(o=t.response.data.message),e.showNotification(o,"bottom-right","danger")})))},validationToSave:function(t){if(0==t.name.length)this.notification.title="Você deve preencher o nome.";else if(0==t.country.length)this.notification.title="Você deve preencher o país de origem.";else if(10!=t.birthUnformatted.length)this.notification.title="Você deve preencher a data de forma correta.";else if(0==t.imageLink.length||t.imageLink.length>1024)this.notification.title="Você deve preencher o link da imagem com até 1024 caracteres.";else{if(!(t.bio.length<50||t.bio.length>1e3))return!0;this.notification.title="A biografia deve ter entre 50 e 1000 caracteres."}this.showNotification(this.notification.title,"bottom-right","danger")},loggedUser:function(){var t=this;r.a.getActualLogin().then((function(e){c.a.findByLoginUuid(e.data.uuid).then((function(e){t.loggedUserObject=e.data})).catch((function(e){var o="Não foi possível buscar o usuário logado.";e.response&&400===e.response.status&&(o=e.response.data.message),t.showNotification(o,"bottom-right","danger")}))})).catch((function(e){var o="Não foi possível buscar o usuário logado.";e.response&&400===e.response.status&&(o=e.response.data.message),t.showNotification(o,"bottom-right","danger")}))},showNotification:function(text,t,e,o){var n={};n.timeout=o?!o:3e3,e&&(n.status=e),t&&(n.pos=t),UIkit.notification(text,n)},advanceTab:function(t){this.$refs[t].click()},formatDate:function(t){var e=new Array;return e[0]=t.slice(0,2),e[1]=t.slice(3,5),e[2]=t.slice(6,10),e[2]+"-"+e[1]+"-"+e[0]},redirectPage:function(t){this.$router.push({path:t})}}},h=o(4),m=o(58),v=o.n(m),k=o(347),y=o(370),C=o(366),x=o(315),S=o(714),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"md-color-blue-grey-400",attrs:{id:"sc-page-wrapper"}},[o("div",{staticClass:"sc-top-bar",attrs:{id:"sc-page-top-bar","data-uk-sticky":"offset:48; show-on-up: true; animation: uk-animation-slide-top-medium"}},[o("div",{staticClass:"sc-top-bar-content uk-flex uk-flex-1"},[o("div",{staticClass:"sc-top-bar-title uk-flex-1"},[t.uuidPerson?t._e():o("Title",{attrs:{title:"Cadastro de Artista"}}),t._v(" "),t.uuidPerson?o("Title",{attrs:{title:"Edição de Artista"}}):t._e()],1)])]),t._v(" "),o("div",{attrs:{id:"sc-page-content"}},[o("div",[o("ScCard",[o("ScCardBody",[o("ul",{attrs:{"data-uk-tab":"animation: uk-animation-slide-left-small, uk-animation-fade"}},[o("li",{staticClass:"uk-active"},[o("a",{ref:"tab1",attrs:{href:"javascript:void(0)"}},[t._v("\n\t\t\t\t\t\t\t\tDados principais\n\t\t\t\t\t\t\t")])])]),t._v(" "),o("ul",{staticClass:"uk-switcher"},[o("li",[o("fieldset",{staticClass:"uk-fieldset md-bg-blue-grey-100 sc-padding"},[o("p",{staticClass:"sc-text-semibold uk-text-large uk-margin-remove-top"},[t._v("\n\t\t\t\t\t\t\t\t\tDados principais\n\t\t\t\t\t\t\t\t")]),t._v(" "),o("p",{staticClass:"sc-text-semibold uk-text-small"},[t._v("\n\t\t\t\t\t\t\t\t\t* Campos obrigatórios\n\t\t\t\t\t\t\t\t")]),t._v(" "),o("div",{staticClass:"uk-child-width-1-2@m uk-grid",attrs:{"data-uk-grid":""}},[o("div",{staticClass:"uk-form-controls"},[o("v-text-field",{attrs:{name:"personName",label:"Nome*",hint:"Campo obrigatório.",filled:"",success:t.person.name.length>0,error:0==t.person.name.length},model:{value:t.person.name,callback:function(e){t.$set(t.person,"name",e)},expression:"person.name"}})],1),t._v(" "),o("div",{staticClass:"uk-form-controls"},[o("v-text-field",{attrs:{name:"personCountry",label:"País*",hint:"Campo obrigatório.",filled:"",success:t.person.country.length>0,error:0==t.person.country.length},model:{value:t.person.country,callback:function(e){t.$set(t.person,"country",e)},expression:"person.country"}})],1),t._v(" "),o("div",{staticClass:"uk-form-controls"},[o("v-text-field",{attrs:{name:"personState",label:"Estado",hint:"Campo opcional.",filled:""},model:{value:t.person.state,callback:function(e){t.$set(t.person,"state",e)},expression:"person.state"}})],1),t._v(" "),o("div",{staticClass:"uk-form-controls"},[o("v-text-field",{attrs:{name:"personCity",label:"Cidade",hint:"Campo opcional.",filled:""},model:{value:t.person.city,callback:function(e){t.$set(t.person,"city",e)},expression:"person.city"}})],1),t._v(" "),o("div",{staticClass:"uk-form-controls"},[o("v-text-field",{directives:[{name:"facade",rawName:"v-facade",value:["##/##/####"],expression:"['##/##/####']"}],attrs:{name:"personBirth",label:"Data de Nascimento*",hint:"Campo obrigatório com 8 dígitos.",filled:"",success:10==t.person.birthUnformatted.length,error:10!=t.person.birthUnformatted.length},model:{value:t.person.birthUnformatted,callback:function(e){t.$set(t.person,"birthUnformatted",e)},expression:"person.birthUnformatted"}})],1),t._v(" "),o("div",{staticClass:"uk-form-controls"},[o("v-text-field",{attrs:{name:"personImageLink",label:"Link de imagem*",hint:t.person.imageLink.length+"/1024 caracteres preenchidos.",filled:"",success:t.person.imageLink.length>0,error:0==t.person.imageLink.length||t.person.imageLink.length>1024},model:{value:t.person.imageLink,callback:function(e){t.$set(t.person,"imageLink",e)},expression:"person.imageLink"}})],1),t._v(" "),o("div",{staticClass:"uk-form-controls"},[o("div",{staticClass:"uk-form-controls"},[o("v-autocomplete",{staticStyle:{"z-index":"11"},attrs:{items:t.jobTypess,name:"personJobTypes","item-value":"value","item-text":"text",label:"Selecione os tipos de trabalho",multiple:"",chips:"","deletable-chips":"",clearable:"",filled:""},model:{value:t.jobTypesSelected,callback:function(e){t.jobTypesSelected=e},expression:"jobTypesSelected"}})],1)]),t._v(" "),o("div",{staticClass:"uk-form-controls"},[o("v-textarea",{attrs:{name:"personBio",label:"Biografia*",hint:"Deve ter entre 50 e 1000 caracteres. "+t.person.bio.length+"/1000 caracteres preenchidos.",filled:"",success:t.person.bio.length>=50&&t.person.bio.length<=1e3,error:t.person.bio.length<50||t.person.bio.length>1e3},model:{value:t.person.bio,callback:function(e){t.$set(t.person,"bio",e)},expression:"person.bio"}})],1)])])])]),t._v(" "),o("v-row",[o("v-col",{attrs:{col:"2"}},[o("div",{staticClass:"uk-margin-top uk-text-right"},[o("button",{staticClass:"sc-button sc-button-danger",attrs:{type:"button","data-uk-tooltip":"Salvar as informações"},on:{click:function(e){return t.redirectPage("/movies/all")}}},[o("i",{staticClass:"mdi mdi-close"}),t._v("\n\t\t\t\t\t\t\t\t\tCancelar\n\t\t\t\t\t\t\t\t")]),t._v(" "),o("button",{staticClass:"sc-button sc-button-primary",attrs:{type:"button",disabled:!1===t.enableSave,"data-uk-tooltip":"Salvar as informações"},on:{click:function(e){return t.save(t.person)}}},[o("i",{staticClass:"mdi mdi-content-save"}),t._v("\n\t\t\t\t\t\t\t\t\tSalvar\n\t\t\t\t\t\t\t\t")])])])],1)],1)],1)],1)])])}),[],!1,null,null,null);e.default=component.exports;v()(component,{VAutocomplete:k.a,VCol:y.a,VRow:C.a,VTextField:x.a,VTextarea:S.a})}}]);